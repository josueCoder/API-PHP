<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous"/>
    <title>Document</title>
</head>
<body>
    <table id="booksTable" class="table">
        <thead>
            <tr>
                <th>Titulo</th>
                <th>Id_Sutor</th>
                <th>Id_Genero</th>
                </th>
            </tr>
        </thead>
        <tbody>

        </tbody>
        <input type="button" value="Carga de libros" id="loadBooks"/>
        <div id="messages" style="display: none ;">
            <p></p>

        </div>
        <div style="display:none;" id="bookForm">
        
            <hr/>
            <table>
                <tr>
                    <td>Titulo</td>
                    <td><input type="text" name="bookTitle" id="bookTitle"></td> 
                </tr>
                <tr>
                    <td>Id Autor:</td>
                    <td><input type="text" name="bookAuthorId" id="bookAuthorId"></td>
                </tr>
                <tr>
                    <td>Id Genero:</td>
                    <td><input type="text" name="bookGenreId" id="bookGenreId"></td>
                </tr>
                <tr>
                    <td colspan="2"><input type="button" value="Guardar" id="bookSave"></td>
                </tr>
            </table>
        </div>
       
       
    </table>
</body>
<script src="https://code.jquery.com/jquery-3.4.1.min.js" 
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" 
        crossorigin="anonymous">
</script>
<script type="text/javascript">
        $('#loadBooks').click(function(){
        $('#messages').first('p').text('Cargando Libros......');
        $.ajax(
            {
                'url':'http://localhost:8000/books',
                'success':function(data){
                    $('messages').show();
                    $('#booksTable > tbody').empty();
                    for(b in data){
                        addBook(data[b]);
                    }
                    $('#bookForm').show();
                }
            }
        );
    });

    function addBook(book){
        $('#booksTable tr:last').after('<tr><td>'+book.titulo+'</td><td>'+book.id_autor + '</td><td>');
    }

</script>
</html>